# 動作確認チェックリスト

最終更新: 2025-10-21

---

## 🎯 今回の修正内容の確認

### 1. ツールバーレイアウト（5ボタン）
- [ ] ツールバーに5個のボタンが表示されている
  - [ ] 戻る（左端）
  - [ ] 進む
  - [ ] ダウンロード（矢印アイコン）
  - [ ] その他メニュー（...アイコン）
  - [ ] タブ（右端、タブ数表示）
- [ ] ボタンサイズ36x36で窮屈じゃない
- [ ] ボタン間の余白が適切（spacing: 6px）
- [ ] ボタンが見切れていない
- [ ] キーボード表示時にツールバーが上に移動しない
- [ ] AutoLayout制約のエラーログが出ていない

### 2. URLバー
- [ ] URLバー左側にタブボタンがない（削除済み）
- [ ] URLバーがシンプルで見やすい

### 3. ブックマーク機能（三点リーダ内）
- [ ] 三点リーダメニューを開く
- [ ] 「ブックマークに追加」が表示される
- [ ] 「ブックマーク一覧」が表示される
- [ ] 「ブックマークに追加」でフォルダ選択画面が表示される
- [ ] ブックマーク追加が正常に動作する
- [ ] 「ブックマーク一覧」でブックマーク一覧が表示される

### 4. タブ画面（Safari/Aloha風）
- [ ] タブボタンをタップ
- [ ] 上部に「通常」「プライベート」のセグメント表示
- [ ] セグメントを「通常」に切り替えると通常タブのみ表示
- [ ] セグメントを「プライベート」に切り替えるとプライベートタブのみ表示
- [ ] +ボタンで選択中のモードのタブが作成される
- [ ] タブが1個でも×ボタンで閉じられる
- [ ] 最後のタブを閉じると同じモードの新規タブが自動作成される
- [ ] 「全てを閉じる」ボタンで全タブ閉じられる

### 5. 履歴削除機能（BUG-028）
- [ ] 閲覧履歴画面を開く
- [ ] 右上の三点リーダメニューに「全ての履歴を削除」がある
- [ ] 「全ての履歴を削除」をタップすると確認ダイアログが表示される
- [ ] 「削除」を選択すると履歴がすべて削除される
- [ ] 「キャンセル」を選択すると削除されない

---

## 📱 基本機能の確認

### タブ管理
- [ ] 新規タブ作成が正常に動作する
- [ ] 通常タブとプライベートタブの切り替えが正常
- [ ] タブ切り替えが正常に動作する
- [ ] タブ削除が正常に動作する
- [ ] 最後のタブも削除できる（新規タブ自動作成）

### ブラウジング
- [ ] URLを入力してページが表示される
- [ ] 検索キーワードで検索できる
- [ ] 戻る/進むボタンが正常に動作する
- [ ] リロードが正常に動作する
- [ ] リーダーモードが正常に動作する
- [ ] デスクトップモードが正常に動作する

### ダウンロード
- [ ] 画像を長押しでダウンロードできる
- [ ] 動画検出時に「動画をダウンロード」が表示される
- [ ] 動画ダウンロードが正常に動作する
- [ ] ダウンロード進捗が表示される
- [ ] ダウンロード完了通知が表示される
- [ ] ダウンロードキャンセルが正常に動作する

### Cookie管理
- [ ] Cookie管理画面が開く
- [ ] Cookieの一覧が表示される
- [ ] Cookieの削除が正常に動作する

### 自動削除
- [ ] 自動削除設定画面が開く
- [ ] 削除タイミング（1日後、7日後、30日後、90日後）が選択できる
- [ ] 「今すぐすべて削除」ボタンが正常に動作する
- [ ] 確認ダイアログが表示される
- [ ] 削除実行後にデータが削除される

### 設定
- [ ] 設定画面が開く
- [ ] 検索エンジンの変更が正常に動作する
- [ ] パスワード設定が正常に動作する
- [ ] パスワード認証が正常に動作する

---

## 🐛 過去に修正したバグの確認

### BUG-021 アプリクラッシュ
- [ ] 長時間使用してもクラッシュしない
- [ ] タブを10個以上開いてもクラッシュしない

### BUG-023 ツールバー見切れ（iPhone 16）
- [ ] ツールバーのボタンが全部表示される
- [ ] Safe Areaに収まっている

### BUG-024 カスタムプレイヤー見切れ（iPhone 16）
- [ ] 動画プレイヤーのボタンが全部表示される
- [ ] Safe Areaに収まっている

### BUG-025 重複ファイル名
- [ ] 同じファイルを複数回ダウンロード
- [ ] ファイル名が「file.jpg」「file (1).jpg」「file (2).jpg」と連番になる

### BUG-026 動画DLボタン表示タイミング
- [ ] 動画が再生可能になってから「動画をダウンロード」が表示される
- [ ] 早すぎるタイミングで表示されない

### BUG-027 キーボード追従
- [ ] URLバーをタップしてキーボード表示
- [ ] ツールバーがキーボードに追従して上に移動しない

---

## 📊 テストサイト

### 基本動作確認
- [ ] https://www.google.com （検索）
- [ ] https://www.youtube.com （動画検出）
- [ ] https://www.wikipedia.org （リーダーモード）

### 動画ダウンロード確認
- [ ] HLS動画のあるサイト
- [ ] MP4動画のあるサイト

### 画像ダウンロード確認
- [ ] 画像の多いサイト（Pinterest等）

---

## ⚠️ 既知の問題

- 起動時間が長い（調査完了、改善策検討中）
- 300msのビデオ検出インターバル（ユーザー確認待ち）

---

## 📝 備考

- チェック完了後、問題があれば報告してください
- 新しいバグを発見した場合も報告してください
