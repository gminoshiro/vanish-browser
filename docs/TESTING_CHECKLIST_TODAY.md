# 今回のセッションの動作確認チェックリスト

**作成日**: 2025-10-22
**確認デバイス**: iPhone 16

---

## 📱 優先度: 高（必須確認）

### 🆕 1. FFmpegライセンス表示（新規実装）

**確認手順**:
1. アプリ起動
2. 三点リーダ → 設定
3. 下にスクロール
4. 「ライセンス情報」セクションがあることを確認
5. 「オープンソースライセンス」をタップ

**期待結果**:
- ✅ 「ライセンス情報」セクションが表示される
- ✅ タップでLicenseView画面が開く
- ✅ 以下の内容が表示される:
  ```
  FFmpeg
  このアプリはFFmpegを使用しています。
  FFmpegはLGPL v2.1ライセンスの下で配布されています。
  ```
- ✅ ソースコードURLやライセンスURLは表示されない

**確認項目**:
- [ ] ライセンス情報セクションが表示される
- [ ] タップで画面遷移する
- [ ] FFmpegライセンステキストが正しく表示される
- [ ] URLが表示されていない
- [ ] 戻るボタンで設定画面に戻れる

---

### 🐛 2. 履歴削除機能（BUG-030修正）

**確認手順**:
1. 複数のウェブサイトを閲覧（3〜5サイト）
2. 三点リーダ → 閲覧履歴を開く
3. 履歴が表示されることを確認
4. 閉じる
5. 三点リーダ → 設定
6. 「手動削除」セクションの「すべてのデータを削除」をタップ
7. 確認ダイアログで「削除」を選択
8. 三点リーダ → 閲覧履歴を開く

**期待結果**:
- ✅ 削除前: 履歴が3〜5件表示される
- ✅ 削除実行: 確認ダイアログが表示される
- ✅ 削除後: 履歴が空になる（「履歴がありません」と表示）

**確認項目**:
- [ ] 削除前に履歴が表示される
- [ ] 確認ダイアログが表示される
- [ ] 削除後に履歴が完全に空になる
- [ ] ダウンロードも削除される（もしあれば）
- [ ] ブックマークも削除される（もしあれば）

---

## 📱 優先度: 中（できれば確認）

### 3. ツールバーレイアウト（iPhone 16最適化）

**確認手順**:
1. アプリ起動
2. 画面下部のツールバーを確認

**期待結果**:
- ✅ 5個のボタンが表示される（左から順に）:
  1. 戻る（chevron.left）
  2. 進む（chevron.right）
  3. ダウンロード（arrow.down.circle）
  4. メニュー（ellipsis.circle）
  5. タブ（square.on.square + 数字）
- ✅ ボタンが見切れていない
- ✅ 余白が適切（窮屈じゃない）
- ✅ キーボード表示時にツールバーが上に動かない

**確認項目**:
- [ ] 5個のボタンすべて表示される
- [ ] ボタンが見切れていない
- [ ] 余白が適切
- [ ] URLバーをタップしてキーボード表示 → ツールバーが動かない

---

### 4. タブ管理（Safari/Aloha風）

**確認手順**:
1. タブボタン（右端）をタップ
2. 画面上部のセグメントコントロールを確認
3. 「通常」と「プライベート」を切り替え
4. +ボタンでタブ作成
5. タブが1個の時に×ボタンをタップ

**期待結果**:
- ✅ 上部に「通常」「プライベート」セグメント表示
- ✅ セグメント切り替えでタブがフィルタされる
- ✅ +ボタンで選択中のモードのタブが作成される
- ✅ 最後のタブを閉じても新規タブが自動作成される

**確認項目**:
- [ ] セグメントコントロールが表示される
- [ ] 切り替えでタブが正しくフィルタされる
- [ ] +ボタンが正しいモードでタブ作成する
- [ ] 最後のタブを閉じられる（新規タブ自動作成）
- [ ] 「全てを閉じる」ボタンが動作する

---

### 5. ブックマーク機能（三点リーダ内）

**確認手順**:
1. 適当なサイトを開く
2. 三点リーダをタップ
3. メニュー内容を確認

**期待結果**:
- ✅ 「ブックマークに追加」がメニュー内にある
- ✅ 「ブックマーク一覧」がメニュー内にある
- ✅ ツールバーに独立したブックマークボタンがない

**確認項目**:
- [ ] 三点リーダメニューに「ブックマークに追加」
- [ ] 三点リーダメニューに「ブックマーク一覧」
- [ ] ブックマーク追加が動作する
- [ ] ブックマーク一覧が開く

---

### 6. 履歴削除（三点リーダ内）

**確認手順**:
1. いくつかサイトを閲覧
2. 三点リーダ → 閲覧履歴
3. 右上の三点リーダをタップ

**期待結果**:
- ✅ 「全ての履歴を削除」がメニュー内にある
- ✅ タップで確認ダイアログが表示される
- ✅ 削除実行で履歴が空になる

**確認項目**:
- [ ] 履歴画面の右上に三点リーダがある
- [ ] メニューに「全ての履歴を削除」
- [ ] 確認ダイアログが表示される
- [ ] 削除後に履歴が空になる

---

## 📱 優先度: 低（時間があれば）

### 7. 過去のバグ修正確認

#### 重複ファイル名（BUG-025）
1. 同じ画像を3回ダウンロード
2. ファイル名が `image.jpg`、`image (1).jpg`、`image (2).jpg` になることを確認

#### キーボード追従（BUG-027）
1. URLバーをタップしてキーボード表示
2. ツールバーが上に移動しないことを確認

---

## ✅ 確認完了の判断基準

### 最低限の確認（リリース前必須）
- ✅ FFmpegライセンス表示が正しく動作する
- ✅ 履歴削除が完全に動作する（BUG-030）

### 理想的な確認（推奨）
- ✅ 上記の優先度：高（2項目）
- ✅ 優先度：中（4項目）

### 完璧な確認（時間があれば）
- ✅ すべての項目（7項目）

---

## 📝 確認結果記録

```
実施日時: 2025-10-22
実施者:
デバイス: iPhone 16

## 優先度: 高
1. FFmpegライセンス表示
   - [x] 確認完了
   - 結果: ✅ OK
   - 備考: 詳細画面にリンク追加、5つの必須項目すべて表示

2. 履歴削除機能（BUG-030）
   - [x] 確認完了
   - 結果: ✅ OK
   - 備考: 設定で削除後、履歴が完全に空になることを確認

## 優先度: 中
3. ツールバーレイアウト
   - [x] 確認完了
   - 結果: ✅ OK
   - 備考: 5個のボタンが見切れずに表示

4. タブ管理
   - [ ] 要再確認（修正あり）
   - 結果: 🔄 修正中
   - 備考: ×ボタンでタブが閉じれない問題を修正（BUG-031）→ 要動作確認

5. ブックマーク機能
   - [x] 確認完了
   - 結果: ✅ OK
   - 備考: 三点リーダ内にブックマーク項目あり

6. 履歴削除（三点リーダ）
   - [x] 確認完了
   - 結果: ✅ OK
   - 備考: 履歴画面の右上三点リーダから削除可能

## 追加修正項目
7. タブ×ボタン（BUG-031）
   - [x] 修正完了
   - 結果: ⏳ 要確認
   - 備考: Button構造を変更、.buttonStyle(.plain)と.onTapGesture追加

## 総合判定
- 確認項目: 7 / 7
- 成功: 5 / 7
- 修正追加: 1 / 7（BUG-031）
- 未確認: 1 / 7（タブ×ボタン）
- 判定: ⏳ 最終確認待ち（タブ×ボタンの動作確認が必要）
```

---

## 🎯 最短確認手順（5分）

時間がない場合は、最低限これだけ確認してください：

1. **FFmpegライセンス表示**（30秒）
   - 設定 → ライセンス情報 → タップして内容確認

2. **履歴削除**（2分）
   - 3サイト閲覧 → 履歴確認 → 設定で削除 → 履歴が空か確認

3. **ツールバー**（30秒）
   - 5個のボタンが見切れずに表示されているか確認

4. **タブ管理**（1分）
   - タブ画面でセグメント表示確認 → 最後のタブを閉じてみる

5. **ブックマーク**（1分）
   - 三点リーダ内にブックマーク項目があるか確認

**合計: 約5分**

---

## 📎 関連ドキュメント

- [CHECK_LIST.md](CHECK_LIST.md) - 全機能の詳細チェックリスト
- [SCENARIO_TEST_GUIDE.md](SCENARIO_TEST_GUIDE.md) - シナリオテスト
- [CODE_VERIFICATION_REPORT.md](CODE_VERIFICATION_REPORT.md) - コード静的検証レポート
