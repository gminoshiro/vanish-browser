# リリース前チェックリスト

最終更新: 2025-10-21

---

## ✅ 今回のセッションで完了した項目

1. ✅ ツールバーレイアウト改善（5ボタン、サイズ36x36）
2. ✅ URLバー左のタブボタン削除
3. ✅ ブックマーク機能を三点リーダ内に移動
4. ✅ タブ画面をSafari/Aloha風に変更（通常/プライベート切り替え）
5. ✅ タブ1個でも削除可能に（新規タブ自動作成）
6. ✅ ビルドエラー修正（isBookmarked削除）
7. ✅ 履歴削除機能の確認

---

## 📋 リリース前の必須確認項目

### 1. 基本動作確認（実機）
- [ ] アプリが正常に起動する
- [ ] クラッシュしない
- [ ] メモリリークがない
- [ ] UI崩れがない（iPhone 16で確認済み）

### 2. 主要機能の動作確認
- [ ] **タブ管理**: 作成・切り替え・削除が正常
- [ ] **ブラウジング**: URL入力、検索、戻る/進む
- [ ] **ダウンロード**: 画像・動画のダウンロード
- [ ] **ブックマーク**: 追加・一覧表示・削除
- [ ] **履歴**: 記録・検索・削除
- [ ] **プライベートモード**: 通常タブとプライベートタブの切り替え
- [ ] **自動削除**: タイミング設定・即時削除

### 3. バグ修正の確認
- [ ] BUG-021: アプリクラッシュ対策（メモリリーク修正）
- [ ] BUG-023: ツールバー見切れ修正（iPhone 16）
- [ ] BUG-024: カスタムプレイヤー見切れ修正
- [ ] BUG-025: 重複ファイル名連番対応
- [ ] BUG-026: 動画DLボタン表示タイミング
- [ ] BUG-027: キーボード追従防止
- [ ] BUG-028: 履歴削除機能
- [ ] BUG-029: URL履歴復元

### 4. App Store提出準備
- [ ] バージョン番号更新（Info.plist）
- [ ] ビルド番号更新
- [ ] リリースノート作成
- [ ] スクリーンショット準備（複数デバイス）
- [ ] アプリアイコン確認
- [ ] プライバシーポリシー確認

### 5. Xcode設定確認
- [ ] 証明書・プロビジョニングプロファイル有効
- [ ] Bundle Identifierが正しい
- [ ] Deployment Targetが適切（iOS 17.0以上？）
- [ ] 必要な権限（Privacy - Photo Library Usage等）が設定済み
- [ ] ビルド設定が Release モード

---

## ⚠️ 既知の問題（リリース後対応可）

### パフォーマンス
- **起動時間が長い**（調査完了、改善策検討中）
  - 原因: WebView初期化時のJavaScript注入（328行）
  - 改善案: console.log削除、遅延初期化
  - 影響: 低（機能には問題なし）

### その他
- **300msのビデオ検出インターバル**（ユーザー確認待ち）
  - 現状: setInterval(detectVideos, 300)
  - 改善案: MutationObserver使用
  - 影響: 低（ページ表示後の動作に影響なし）

---

## 📝 リリース後の改善案

1. **起動時間の最適化**
   - WebViewConfiguratorのconsole.log削除
   - JavaScript注入の最適化
   - WebView遅延初期化

2. **動画検出の最適化**
   - MutationObserver導入
   - 検出インターバルの調整

3. **ユーザーフィードバック収集**
   - TestFlightでベータテスト
   - クラッシュレポート監視
   - レビュー対応

---

## 🚀 リリース手順

1. **最終ビルド**
   ```bash
   xcodebuild -project VanishBrowser.xcodeproj -scheme VanishBrowser -configuration Release
   ```

2. **Archive作成**
   - Xcode > Product > Archive
   - Organizer > Distribute App

3. **App Store Connect**
   - アプリ情報入力
   - スクリーンショットアップロード
   - リリースノート記入
   - 価格・配信地域設定

4. **審査提出**
   - 「審査に提出」をクリック
   - 審査待ち（通常1-3日）

---

## 📊 リリース基準

### ✅ リリース可能
- 基本機能がすべて動作
- クリティカルバグがない
- iPhone 16で動作確認済み
- UI崩れがない

### ⚠️ リリース延期すべき
- アプリがクラッシュする
- データ損失の可能性がある
- 重大なセキュリティ問題がある
- 主要機能が動作しない

---

## 現在の状態

**リリース準備度: 90%**

### 完了している項目
- ✅ すべての実装完了
- ✅ 主要バグ修正完了
- ✅ UI調整完了（iPhone 16）
- ✅ ビルド成功

### 確認が必要な項目
- ⏳ 実機での最終動作確認（ユーザー実施中）
- ⏳ App Store提出準備
- ⏳ リリースノート作成

**結論**: 実機での最終確認後、すぐにリリース可能な状態です！
